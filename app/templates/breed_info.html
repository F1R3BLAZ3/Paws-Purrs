{% extends 'base.html' %}

{% block title %}Dog Image Details{% endblock %}

{% block styles %}
<!-- Your styles here -->
{% endblock %}

{% block content %}
<div class="navigation">
    {% if prev_breed_id %}
    <a href="{{ url_for('get_breed_info', breed_id=prev_breed_id) }}">
        <img src="{{ url_for('static', filename='images/back.png') }}" alt="Previous Breed">
    </a>
    {% endif %}
    {% if next_breed_id %}
    <a href="{{ url_for('get_breed_info', breed_id=next_breed_id) }}">
        <img src="{{ url_for('static', filename='images/next.png') }}" alt="Next Breed">
    </a>
    {% endif %}
</div>

<div class="details-container">
    {% if images_info %}
        <img src="{{ images_info[0].url }}" alt="{{ breed_info.name }}">
    {% else %}
        <p>No images available</p>
    {% endif %}
    <div>
        <h1 class="breed_info_breed-name">{{ breed_info.name }}</h1>
        <h2>Details</h2>
        <ul>
            <li><strong>Origin:</strong>
                {% if breed_info.origin %}
                    {{ breed_info.origin }}
                {% else %}
                    N/A
                {% endif %}
            </li>
            <li><strong>Bred for:</strong>
                {% if breed_info.bred_for %}
                    {% for temperament in breed_info.bred_for.split(",") %}
                    <div class="tag">{{ temperament.strip().capitalize() }}</div>
                {% endfor %}    
                {% else %}
                    N/A
                {% endif %}
            </li>
            <li><strong>Breed group:</strong> {{ breed_info.breed_group }}</li>
            <li><strong>Life span:</strong> {{ breed_info.life_span }}</li>
            <li><strong>Temperament:</strong> 
                {% if 'temperament' in breed_info %}
                    {% for temperament in breed_info.temperament.split(",") %}
                        <div class="tag">{{ temperament }}</div>
                    {% endfor %}
                {% else %}
                    N/A
                {% endif %}
            </li>
        </ul>
        <h2>Measurements</h2>
        <ul>
            <li>
                <h3>Weight:</h3>
                <ul>
                    <li><strong>Imperial:</strong> {{ breed_info.weight.imperial }} lb</li>
                    <li><strong>Metric:</strong> {{ breed_info.weight.metric }} kg</li>
                </ul>
            </li>
            <li>
                <h3>Height:</h3>
                <ul>
                    <li><strong>Imperial:</strong> {{ breed_info.height.imperial }} inch</li>
                    <li><strong>Metric:</strong> {{ breed_info.height.metric }} cm</li>
                </ul>
            </li>
        </ul>
    </div>
</div>
<div class="image-grid">
    {% for image in images_info[1:] %}
    <div class="img-container" onclick="openModal('{{ image.url }}')">
        <img src="{{ image.url }}" alt="{{ breed_info.name }}" style="height: 244px; object-fit: cover; cursor: pointer">
    </div>
    {% endfor %}
</div>

<div id="myModal" class="modal">
    <span class="close">&times;</span>
    <img class="modal-content" id="img01">
    <div id="caption"></div>
  </div>
  <script>
    function openModal(src) {
  var modal = document.getElementById("myModal");
  var modalImg = document.getElementById("img01");

  modal.style.display = "block";
  modalImg.src = src;

  var span = document.getElementsByClassName("close")[0];

  span.onclick = function() { 
    modal.style.display = "none";
  }
}
  </script>
{% endblock %}
